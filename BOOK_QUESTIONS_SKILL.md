---
name: "book-questions-generator"
description: "Generates quiz questions from lesson files in book folder. Processes ONE file at a time with progress tracking."
---

# Book Questions Generator

## Purpose

This skill generates quiz questions by analyzing markdown lesson files in the `book/` folder **one file at a time**. It uses a progress tracking file to manage large numbers of files without losing context.

## When to Use This Skill

Use this skill when the user:
- Says "Wygeneruj pytania z książki" or "Generate questions from book"
- Says "Kontynuuj generowanie pytań" or "Continue generating questions"
- Wants to create quiz content from lesson files

## Architecture

### Files Used

| File | Purpose |
|------|---------|
| `book/` | Source folder with lesson `.md` files |
| `book-questions-progress.md` | **Tracking file** - lists all files and their status |
| `book-questions.js` | **Output file** - accumulated questions array |

### Progress Tracking File Format

```markdown
# Book Questions Progress

## Statistics
- Total files: 25
- Processed: 12
- Remaining: 13
- Last processed: 2024-01-15 14:30

## Files

### Pending
- [ ] lesson-13-docker-compose.md
- [ ] lesson-14-docker-networks.md
...

### Completed
- [x] lesson-01-devops-intro.md (3 questions, IDs: 1-3)
- [x] lesson-02-linux-basics.md (3 questions, IDs: 4-6)
...
```

## Workflow

### First Run (Initialization)

1. **Scan `book/` folder** - List all `.md` files
2. **Create `book-questions-progress.md`** - Initialize with all files as "Pending"
3. **Create `book-questions.js`** - Initialize with empty array header
4. **Process first file** - Generate 3 questions, append to JS file
5. **Update progress** - Move file to "Completed" section

### Subsequent Runs (Continue)

1. **Read `book-questions-progress.md`** - Find next pending file
2. **Read next lesson file** - If large, read in chunks (see below)
3. **Generate 3 questions** - Using next sequential IDs
4. **Append to `book-questions.js`** - Add new questions to array
5. **Update progress** - Move file to "Completed", update stats
6. **Report**: "Processed: lesson-XX.md (3 questions). Remaining: N files."

### Handling Large Files

If a lesson file exceeds ~500 lines:
1. Read first 500 lines - extract main topics
2. Read remaining content in chunks if needed
3. Focus on key concepts for question generation

## Output Format

### book-questions.js Structure

```javascript
// book-questions.js
// Auto-generated by book-questions-generator skill
// Last updated: 2024-01-15 14:30

const bookQuestions = [
    // === Lesson 01: DevOps Introduction ===
    {
        id: 1,
        question: "Co oznacza skrót DevOps?",
        code: null,
        type: "multiple",
        options: [
            { key: "A", text: "...", explanation: "..." },
            { key: "B", text: "...", explanation: "..." },
            { key: "C", text: "...", explanation: "..." },
            { key: "D", text: "...", explanation: "..." }
        ],
        correctAnswer: "A",
        topic: "Wprowadzenie do DevOps"
    },
    // ... more questions from lesson 01 ...

    // === Lesson 02: Linux Basics ===
    // ... questions from lesson 02 ...
];
```

## Question Generation Rules

### Per Lesson File
Generate exactly **3 questions**:
1. **Easy** (difficulty: 1) - Definitions, terminology, simple facts
2. **Medium** (difficulty: 2) - Understanding concepts, comparisons
3. **Hard** (difficulty: 3) - Code analysis, practical scenarios

### Question Structure
Each question must have:
- `id` - Sequential unique number (continues from last ID in file)
- `question` - Question text in Polish
- `code` - null or code string with `\n` for newlines
- `type` - "multiple" (4 options) or "boolean" (2 options)
- `options[]` - Array with key, text, and explanation for EACH option
- `correctAnswer` - Key of correct answer (A/B/C/D)
- `topic` - Topic name in Polish (e.g., "Linux - podstawy")

### Difficulty Patterns

| Difficulty | Polish | Patterns | Example |
|------------|--------|----------|---------|
| Easy | Łatwe | "Co to jest X?", "Gdzie znajduje się Y?" | "Co to jest shell?" |
| Medium | Średnie | "Jaka jest różnica?", "Dlaczego używamy?" | "Jak działa pipe w Linux?" |
| Hard | Trudne | "Co wyświetli kod?", "Znajdź błąd" | "Jaki będzie wynik: `ps aux \| grep sshd`?" |

### Requirements
- All text in **Polish** (technical terms can remain in English)
- Each option has a **unique explanation** (why wrong/correct)
- Wrong answers must be **plausible** (not absurd)
- Code examples must be **syntactically correct**

## Commands

### Initialize
```
"Wygeneruj pytania z książki" / "Generate questions from book"
```
- Creates progress file if not exists
- Processes first pending file
- Creates/updates book-questions.js

### Continue
```
"Kontynuuj generowanie pytań" / "Continue generating questions"
```
- Reads progress file
- Processes next pending file
- Updates book-questions.js

### Status
```
"Status generowania pytań" / "Question generation status"
```
- Shows progress statistics
- Lists remaining files

### Reset
```
"Resetuj generowanie pytań" / "Reset question generation"
```
- Deletes progress file
- Optionally deletes book-questions.js
- Starts fresh

## Output Behavior

**REQUIRED**:
1. Check/create progress tracking file
2. Process ONE file at a time
3. Append questions to book-questions.js
4. Update progress file
5. Report: "Processed: [filename] (3 questions). Remaining: N files."

**FORBIDDEN**:
- NO processing multiple files in one run
- NO introductory commentary
- NO meta-discussion about process
- NO closing suggestions

## Example Session

```
User: Wygeneruj pytania z książki

AI: [Creates book-questions-progress.md with 25 files]
    [Processes lesson-01-devops-intro.md]
    [Appends 3 questions to book-questions.js]

    Processed: lesson-01-devops-intro.md (3 questions, IDs: 1-3)
    Remaining: 24 files

User: Kontynuuj generowanie pytań

AI: [Reads progress file]
    [Processes lesson-02-linux-basics.md]
    [Appends 3 questions to book-questions.js]

    Processed: lesson-02-linux-basics.md (3 questions, IDs: 4-6)
    Remaining: 23 files
```

## Usage After Generation

Copy questions into `quiz-template.html`:

```javascript
const quizData = {
    meta: {
        title: "Quiz: DevOps i Linux",
        description: "Pytania z lekcji 1-25",
        course: "LearnIT DevOps",
        lessonNumber: "01-25",
        author: "LearnIT"
    },
    questions: bookQuestions,
    settings: {
        shuffleQuestions: false,
        passingScore: 70
    }
};
```
